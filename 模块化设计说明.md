# 🎯 网站模块化设计说明

## 📋 数据与视图分离架构

现在网站采用了**数据驱动**的设计模式，所有内容通过JSON文件管理，JavaScript动态渲染页面。

---

## 📁 数据文件结构

### 1️⃣ `course-info.json` - 课程信息数据

包含完整的课程信息和教师团队数据：

```json
{
  "course": {
    "code": "AIT531020.01",          // 课程代码
    "credits": 2.0,                   // 学分
    "hours": 36.0,                    // 学时
    "department": "文物与博物馆学系",  // 开课单位
    "title": { "zh": "...", "en": "..." },
    "description": { "zh": "...", "en": "..." },
    "objectives": "...",              // 教学目标
    "modules": [...]                  // 课程模块
  },
  "teachers": [
    {
      "name": "钱振兴",
      "title": "教授",
      "email": "zxqian@fudan.edu.cn",
      "homepage": "https://faculty.fudan.edu.cn/zqian/zh_CN/index.htm",
      "bio": "...",
      "expertise": ["多媒体信息安全", "人工智能应用", ...]
    }
  ],
  "keyFeatures": [
    {
      "icon": "brain",
      "title": "深度学习",
      "description": "..."
    }
  ]
}
```

### 2️⃣ `data.json` - 学生作业数据

包含综述作业和模型项目的信息：

```json
{
  "surveys": [ ... ],    // 综述作业列表
  "projects": [ ... ]    // 模型项目列表
}
```

---

## 🔄 数据流程

```
JSON文件 → JavaScript fetch() → 渲染函数 → 动态生成HTML → 页面展示
```

### 页面加载流程：

1. **页面加载时** → 显示加载动画（Loading spinner）
2. **JavaScript执行** → fetch() 获取 `course-info.json`
3. **数据到达** → 调用渲染函数生成HTML
4. **DOM更新** → 页面显示完整内容

---

## 💡 模块化的优势

### ✅ 数据与视图分离
- **修改内容**：只需编辑 JSON 文件
- **无需改代码**：不用碰 HTML/JavaScript
- **降低错误**：避免误改页面结构

### ✅ 易于维护
```
修改教师信息 → 打开 course-info.json → 编辑 teachers 数组 → 刷新页面 ✓
```

### ✅ 可复用性
- 渲染函数可用于多个页面
- JSON 数据可供其他系统调用
- API化潜力（未来可改为后端接口）

### ✅ 多语言支持
```json
"title": {
  "zh": "AI考古",
  "en": "AI for Archaeology"
}
```
预留了中英文双语支持

---

## 🛠️ 如何修改内容

### 📝 修改课程简介

**文件**：`course-info.json`  
**路径**：`course.description.zh`

```json
{
  "course": {
    "description": {
      "zh": "在这里修改课程简介..."
    }
  }
}
```

保存后刷新页面即可看到效果！

---

### 👨‍🏫 修改教师信息

**文件**：`course-info.json`  
**路径**：`teachers` 数组

```json
{
  "teachers": [
    {
      "name": "钱振兴",           // 修改姓名
      "title": "教授",            // 修改职称
      "email": "新邮箱",          // 修改邮箱
      "homepage": "新主页链接",    // 修改个人主页
      "bio": "修改个人简介",      // 修改简介
      "expertise": ["专长1", "专长2"],  // 修改研究方向
      "photo": "照片路径"         // 修改头像
    }
  ]
}
```

---

### 🎓 添加新教师

在 `teachers` 数组中添加新对象：

```json
{
  "teachers": [
    // ... 现有教师 ...
    {
      "id": 4,
      "name": "新教师",
      "title": "讲师",
      "role": "助教",
      "department": "计算与智能创新学院",
      "email": "new@fudan.edu.cn",
      "homepage": "https://...",
      "bio": "个人简介",
      "expertise": ["研究方向1", "研究方向2"],
      "photo": "https://via.placeholder.com/200"
    }
  ]
}
```

页面会**自动适应**新的教师数量！

---

### 📊 修改课程信息

```json
{
  "course": {
    "code": "新课程代码",
    "credits": 3.0,      // 改学分
    "hours": 48.0,       // 改学时
    "department": "新开课单位"
  }
}
```

---

### 🔧 修改技术特色图标

**文件**：`course-info.json`  
**路径**：`keyFeatures` 数组

```json
{
  "keyFeatures": [
    {
      "icon": "brain",              // Font Awesome 图标名
      "title": "深度学习",
      "description": "应用描述"
    }
  ]
}
```

**可用图标**：[Font Awesome 图标库](https://fontawesome.com/icons)

---

## 🎨 渲染函数说明

### `renderCourseIntro(course, features)`

**功能**：渲染课程简介区域  
**参数**：
- `course`：课程对象
- `features`：技术特色数组

**生成内容**：
- 课程代码、学分、学时标签
- 课程描述文字
- 4个技术特色图标卡片

---

### `renderTeachers(teachers)`

**功能**：渲染教师团队卡片  
**参数**：
- `teachers`：教师对象数组

**生成内容**：
- 教师头像（圆形裁剪）
- 姓名、职称
- 个人简介
- 研究方向标签
- 邮箱和个人主页链接

---

## 📱 响应式支持

所有渲染的内容都支持响应式布局：

- **手机端**：单列显示
- **平板端**：双列或三列
- **桌面端**：三列或四列

无需修改代码，自动适配！

---

## 🚀 未来扩展

### 可以轻松实现：

1. **多语言切换**
   ```javascript
   const lang = 'en';
   document.getElementById('title').textContent = course.title[lang];
   ```

2. **搜索功能**
   ```javascript
   teachers.filter(t => t.name.includes(searchTerm))
   ```

3. **排序功能**
   ```javascript
   teachers.sort((a, b) => a.name.localeCompare(b.name))
   ```

4. **API对接**
   ```javascript
   fetch('https://api.example.com/course-info')
   ```

---

## ⚠️ 注意事项

### 1. JSON 格式要求

- ✅ 必须是有效的 JSON 格式
- ✅ 字符串用双引号 `"`
- ✅ 最后一个元素后不要有逗号
- ✅ 特殊字符需要转义

**验证工具**：[JSONLint](https://jsonlint.com/)

### 2. 本地测试

由于浏览器安全限制，直接打开 HTML 文件可能无法加载 JSON。

**解决方案**：

```bash
# 方法1：Python 启动服务器
python -m http.server 8000

# 方法2：使用 VS Code Live Server 插件
右键 index.html → Open with Live Server
```

然后访问 `http://localhost:8000`

### 3. 图片路径

教师头像 `photo` 路径：
- 相对路径：`./images/teacher1.jpg`
- 绝对路径：`https://example.com/photo.jpg`
- 占位图：`https://via.placeholder.com/200`

---

## 📖 快速上手

### 修改流程（5分钟）：

1. **打开文件**：`course-info.json`
2. **找到要修改的字段**：如 `teachers[0].name`
3. **修改内容**：改为真实姓名
4. **保存文件**
5. **刷新浏览器**：查看效果

就是这么简单！🎉

---

## 🎯 文件清单

```
AI考古/
├── index.html              # 首页（动态渲染）
├── surveys.html            # 综述作业页（动态渲染）
├── projects.html           # 模型项目页（动态渲染）
├── course-info.json        # 课程信息数据 ⭐
├── data.json              # 作业数据
├── README.md              # 部署说明
└── 模块化设计说明.md       # 本文档
```

---

## 💬 技术支持

遇到问题？检查：

1. ✅ JSON 格式是否正确（用 JSONLint 验证）
2. ✅ 是否用 HTTP 服务器打开（不是直接打开文件）
3. ✅ 浏览器控制台有无报错（F12）
4. ✅ 文件路径是否正确

---

**🎓 现在你可以通过修改JSON文件来管理整个网站了！**

无需懂代码，只需编辑 JSON 数据，页面自动更新！✨

